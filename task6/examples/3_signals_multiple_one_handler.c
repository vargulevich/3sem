//It is quite easy to construct on global signal handler, just add conditional check into a handler and a couple of signal registrators.
